# ğŸ¨ TexturePacker æ‰¹é‡ç”Ÿæˆè®¾ç½®è¯´æ˜

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èï¼‰

1. **ä¿®æ”¹TexturePackerè·¯å¾„**
   - æ‰“å¼€ `batch-create-atlas.bat`
   - æ‰¾åˆ°ç¬¬7è¡Œï¼š`set TEXTPACKER_PATH=...`
   - ä¿®æ”¹ä¸ºæ‚¨çš„TexturePackerå®‰è£…è·¯å¾„

2. **è¿è¡Œè„šæœ¬**
   ```bash
   cd MathGame/scripts
   batch-create-atlas.bat
   ```

### æ–¹æ³•2ï¼šä½¿ç”¨PowerShellè„šæœ¬ï¼ˆæ›´å¼ºå¤§ï¼‰

1. **ä¿®æ”¹TexturePackerè·¯å¾„**
   - æ‰“å¼€ `batch-create-atlas.ps1`
   - æ‰¾åˆ°ç¬¬12è¡Œï¼š`$TexturePackerPath = ...`
   - ä¿®æ”¹ä¸ºæ‚¨çš„TexturePackerå®‰è£…è·¯å¾„

2. **è¿è¡Œè„šæœ¬**
   ```powershell
   cd MathGame/scripts
   powershell -ExecutionPolicy Bypass -File batch-create-atlas.ps1
   ```

---

## ğŸ”§ TexturePacker å¸¸è§å®‰è£…è·¯å¾„

- `C:\Program Files\CodeAndWeb\TexturePacker\bin\TexturePacker.exe`
- `C:\Program Files (x86)\CodeAndWeb\TexturePacker\bin\TexturePacker.exe`
- `C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Local\Programs\TexturePacker\bin\TexturePacker.exe`

**å¦‚ä½•æŸ¥æ‰¾**ï¼š
1. åœ¨å¼€å§‹èœå•æœç´¢ "TexturePacker"
2. å³é”® â†’ æ‰“å¼€æ–‡ä»¶ä½ç½®
3. æ‰¾åˆ° `TexturePacker.exe` çš„å®Œæ•´è·¯å¾„

---

## âš™ï¸ è„šæœ¬å‚æ•°è¯´æ˜

### å½“å‰ä½¿ç”¨çš„å‚æ•°

```bash
--data "è¾“å‡ºJSONè·¯å¾„"        # JSONé…ç½®æ–‡ä»¶è·¯å¾„
--sheet "è¾“å‡ºPNGè·¯å¾„"         # å›¾é›†PNGæ–‡ä»¶è·¯å¾„
--format json-array           # JSONæ ¼å¼ï¼ˆPhaserå…¼å®¹ï¼‰
--texture-format png          # å›¾ç‰‡æ ¼å¼
--max-width 2048             # æœ€å¤§å®½åº¦
--max-height 2048             # æœ€å¤§é«˜åº¦
--algorithm MaxRects          # æ‰“åŒ…ç®—æ³•
--trim-mode None              # ä¸ä¿®å‰ªé€æ˜è¾¹
--border-padding 0            # è¾¹æ¡†å¡«å……
--shape-padding 0             # å½¢çŠ¶å¡«å……
--multipack                   # å¦‚æœå¤ªå¤§è‡ªåŠ¨åˆ†å¤šä¸ªæ–‡ä»¶
```

### å¦‚æœéœ€è¦è°ƒæ•´æ ¼å¼

**Phaser 3 æ”¯æŒçš„æ ¼å¼**ï¼š
- `json-array` - JSONæ•°ç»„æ ¼å¼ï¼ˆæ¨èï¼‰
- `json-hash` - JSONå“ˆå¸Œæ ¼å¼
- `json` - æ ‡å‡†JSONæ ¼å¼

**å¦‚æœç”Ÿæˆçš„JSONæ ¼å¼ä¸å¯¹**ï¼Œå¯ä»¥å°è¯•ï¼š
```bash
--format json-hash
```

---

## ğŸ“ è¾“å‡ºç»“æ„

ç”Ÿæˆåçš„æ–‡ä»¶ç»“æ„ï¼š

```
assets/res-atlas/
â”œâ”€â”€ player/
â”‚   â”œâ”€â”€ 307/
â”‚   â”‚   â”œâ”€â”€ mage_307.png
â”‚   â”‚   â””â”€â”€ mage_307.json
â”‚   â”œâ”€â”€ 119/
â”‚   â”‚   â”œâ”€â”€ mage_119.png
â”‚   â”‚   â””â”€â”€ mage_119.json
â”‚   â””â”€â”€ ...
â””â”€â”€ monster/
    â”œâ”€â”€ monster1.png
    â”œâ”€â”€ monster1.json
    â”œâ”€â”€ monster2.png
    â”œâ”€â”€ monster2.json
    â””â”€â”€ ...
```

---

## âœ… éªŒè¯ç”Ÿæˆçš„æ–‡ä»¶

### 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ¯ä¸ªè§’è‰²åº”è¯¥æœ‰ `.png` å’Œ `.json` ä¸¤ä¸ªæ–‡ä»¶
- æ¯ä¸ªæ€ªç‰©åº”è¯¥æœ‰ `.png` å’Œ `.json` ä¸¤ä¸ªæ–‡ä»¶

### 2. æ£€æŸ¥JSONæ ¼å¼

æ‰“å¼€ç”Ÿæˆçš„JSONæ–‡ä»¶ï¼Œåº”è¯¥ç±»ä¼¼è¿™æ ·ï¼š

**json-array æ ¼å¼**ï¼š
```json
{
  "frames": [
    {
      "filename": "mage_307_wait_001.png",
      "frame": {"x": 0, "y": 0, "w": 200, "h": 200},
      "rotated": false,
      "trimmed": false,
      "spriteSourceSize": {"x": 0, "y": 0, "w": 200, "h": 200},
      "sourceSize": {"w": 200, "h": 200}
    },
    ...
  ],
  "meta": {
    "app": "TexturePacker",
    "version": "...",
    "format": "RGBA8888",
    "size": {"w": 2048, "h": 2048},
    "scale": "1"
  }
}
```

### 3. æ£€æŸ¥PNGå›¾ç‰‡
- æ‰“å¼€ç”Ÿæˆçš„PNGæ–‡ä»¶ï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ‰€æœ‰å¸§æ’åˆ—åœ¨ä¸€å¼ å¤§å›¾ä¸Š

---

## ğŸ”„ å¦‚æœæ ¼å¼ä¸å¯¹ï¼Œå¦‚ä½•è°ƒæ•´

### æ–¹æ³•1ï¼šä¿®æ”¹è„šæœ¬å‚æ•°

åœ¨è„šæœ¬ä¸­æ‰¾åˆ° `--format json-array`ï¼Œæ”¹ä¸ºï¼š
- `--format json-hash` ï¼ˆå¦‚æœPhaseréœ€è¦è¿™ç§æ ¼å¼ï¼‰
- `--format json` ï¼ˆæ ‡å‡†æ ¼å¼ï¼‰

### æ–¹æ³•2ï¼šä½¿ç”¨TexturePacker GUI

1. æ‰“å¼€TexturePacker
2. æ·»åŠ ä¸€ä¸ªè§’è‰²çš„æ‰€æœ‰å›¾ç‰‡
3. åœ¨å³ä¾§è®¾ç½®é¢æ¿ï¼š
   - **Data format**: é€‰æ‹© "JSON (Phaser)"
   - **Texture format**: PNG
   - **Max size**: 2048Ã—2048
4. ç‚¹å‡» "Publish" å‘å¸ƒ
5. æŸ¥çœ‹ç”Ÿæˆçš„JSONæ ¼å¼
6. å¦‚æœæ ¼å¼æ­£ç¡®ï¼Œå°†è®¾ç½®åº”ç”¨åˆ°è„šæœ¬å‚æ•°

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ‰¾ä¸åˆ°TexturePacker

**è§£å†³**ï¼š
1. ç¡®è®¤TexturePackerå·²å®‰è£…
2. æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®
3. å°è¯•åœ¨å‘½ä»¤è¡Œç›´æ¥è¿è¡ŒTexturePackerçœ‹æ˜¯å¦å¯ç”¨

### é—®é¢˜2ï¼šç”Ÿæˆçš„JSONæ ¼å¼Phaserä¸è¯†åˆ«

**è§£å†³**ï¼š
1. æ£€æŸ¥ `--format` å‚æ•°
2. å°è¯•ä½¿ç”¨ `json-hash` æ ¼å¼
3. æˆ–è€…ä½¿ç”¨TexturePacker GUIç”Ÿæˆä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ­£ç¡®æ ¼å¼

### é—®é¢˜3ï¼šå›¾é›†å¤ªå¤§ï¼Œè¶…è¿‡2048Ã—2048

**è§£å†³**ï¼š
- è„šæœ¬å·²å¯ç”¨ `--multipack`ï¼Œä¼šè‡ªåŠ¨åˆ†å‰²
- æˆ–è€…å‡å° `--max-width` å’Œ `--max-height`

### é—®é¢˜4ï¼šæŸäº›è§’è‰²/æ€ªç‰©ç”Ÿæˆå¤±è´¥

**è§£å†³**ï¼š
1. æ£€æŸ¥æºæ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯å›¾ç‰‡æ ¼å¼é—®é¢˜

---

## ğŸ“ ä¸‹ä¸€æ­¥

ç”Ÿæˆå®Œæˆåï¼š

1. âœ… **éªŒè¯æ–‡ä»¶**ï¼šæ£€æŸ¥ç”Ÿæˆçš„PNGå’ŒJSONæ–‡ä»¶
2. âœ… **æµ‹è¯•åŠ è½½**ï¼šä¿®æ”¹ä»£ç ä½¿ç”¨atlasåŠ è½½
3. âœ… **æ›¿æ¢èµ„æº**ï¼šå°†ç”Ÿæˆçš„atlasæ–‡ä»¶å¤åˆ¶åˆ° `assets/res/` ç›®å½•
4. âœ… **åˆ é™¤åŸæ–‡ä»¶**ï¼šå¤‡ä»½ååˆ é™¤åŸå§‹åºåˆ—å¸§æ–‡ä»¶

éœ€è¦æˆ‘å¸®æ‚¨ä¿®æ”¹ä»£ç ä»¥æ”¯æŒatlasåŠ è½½å—ï¼Ÿ

